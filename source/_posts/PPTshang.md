---
title: PPTä¸Šä¾‹é¢˜(å«å€å¢)
categories: é¢˜ç›®
date: 2020-05-22 09:29:58
tags: å€å¢
cover: https://cdn.jsdelivr.net/gh/uncleacc/Img/textbg/49.webp
mathjax: 
updated: 
keywords: 
description: 
comments: 
highlight_shrink: 
---
>PPTä¸Šé¢çš„å¥½å¤šé¢˜éƒ½åšä¸äº†ï¼ŒACWINGä¸Šçš„é¢˜è¦æŠ¥åæ‰èƒ½åšï¼ŒCodeforces 1000Cæœä¸å‡ºæ¥ï¼Œå°±åšäº†å‰©ä¸‹çš„ï¼Œä¸è¿‡äºŒç»´å·®åˆ†å‰ç¼€å’Œæ—©å°±æŒæ¡äº†

## ACWING-797. å·®åˆ†
è¶…çº§æ¨¡æ¿
### Code
```c
#include<bits/stdc++.h>
using namespace std;
const int MAXN=1e5+100;
int val[MAXN],cha[MAXN];
int main()
{
	int n,m;
	cin>>n>>m;
	for(int i=1;i<=n;i++) cin>>val[i];
	while(m--){
		int l,r,c;
		cin>>l>>r>>c;
		cha[l]+=c; cha[r+1]-=c; 
	}
	for(int i=1;i<=n;i++){
		cha[i]+=cha[i-1];
		if(i!=n) cout<<val[i]+cha[i]<<" ";
		else cout<<val[i]+cha[i]<<endl;
	}
	return 0;
 } 
```
## æ´›è°·-æµ·åº•é«˜é“
ç®—å‡ºæ¯ä¸¤ä¸ªåŸå¸‚çš„å¾€è¿”æ¬¡æ•°ï¼Œç„¶åè´ªå¿ƒä¸€ä¸‹ï¼Œæ‰¾åˆ°æœ€å°çš„ï¼Œè¿™é“é¢˜ä¹‹å‰åšè¿‡ï¼Œå½“æ—¶ç¬¬ä¸€æ¬¡å°±ACäº†ï¼Œè¿™é“é¢˜åº”è¯¥ä¸éš¾
### Code
```c
#include<bits/stdc++.h>
#define ios ios::sync_with_stdio(0);cin.tie(0);cout.tie(0)
using namespace std;
typedef long long ll; 
const int MAXN=1e5+100;
long long A[MAXN],B[MAXN],C[MAXN],X[MAXN],cha[MAXN];
int main(){
	ios;
    int n,m; cin>>n>>m;
    for(int i=1;i<=m;i++) cin>>X[i];
    for(int i=1;i<=n-1;i++){
    	cin>>A[i]>>B[i]>>C[i];
    	A[i]+=A[i-1];
    	B[i]+=B[i-1];
	}
	for(int i=1;i<=m-1;i++){
		int l=min(X[i],X[i+1]);
		int r=max(X[i],X[i+1]);
		cha[l]++; cha[r]--;
	}
	ll sum=0;
	for(int i=1;i<=n-1;i++){
		cha[i]+=cha[i-1];
		ll t1=cha[i]*(A[i]-A[i-1]);
		ll t2=cha[i]*(B[i]-B[i-1])+C[i];
		sum+=min(t1,t2);
	}
	cout<<sum<<endl;
    
    return 0;
}
```
## å€å¢&&STè¡¨
é¦–å…ˆæ˜ç™½å€å¢æ˜¯ä¸€ç§æ€æƒ³è€Œä¸æ˜¯æ¨¡æ¿ï¼Œå®ƒä¸STå¹¶æ²¡æœ‰å¿…ç„¶çš„è”ç³»ï¼Œä¸æ˜¯ä¸»è¦æœ‰å€å¢å°±å¿…ç„¶å‡ºç°STï¼Œåšå€å¢é¢˜ä¸€å®šè¦æ˜ç™½æ˜¯å¯¹ä»€ä¹ˆå€å¢çš„ï¼Œé€šå¸¸å°±æ˜¯å¯¹åŒºé—´é•¿åº¦æˆ–è€…è·ç¦»å€å¢ï¼Œä½¿ç”¨å€å¢é€šå¸¸æœ‰(RMQ)å³åŒºé—´æœ€å€¼æŸ¥è¯¢(ç¬¬äºŒé“é¢˜)ï¼Œä»¥åŠLACè¿™ä¸ªè¿˜æ²¡å­¦ï¼ŒSTè¡¨çš„æ ¸å¿ƒæ˜¯æ‰¾åˆ°STçš„é€’æ¨å…³ç³»ï¼Œä»å°å¾€å¤§æ¨ï¼Œç›´åˆ°æ‰“å®Œæ‰€æœ‰è¡¨ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(mlogn)ï¼Œmä¸ºç»“ç‚¹æ•°é‡ï¼Œnæ˜¯èµ°çš„æ­¥æ•°(2^0,2^1...)ï¼Œ `2^20` å°±å·²ç»è¶…è¿‡ `1e6` äº†ï¼Œ`2^64` å¤§äº `1e20`ï¼Œæ‰€ä»¥lognæ˜¯éå¸¸å°çš„ï¼Œæœ€å¤šå‡ åæ¬¡ï¼Œå¤æ‚åº¦è®°ä¹å¯ä»¥çœ‹æˆO(N*10)
### AtCoder - abc167_d
ä¸€é“å›¾ä¸Šå€å¢çš„é¢˜ç›®ï¼Œåˆ«çœ‹è¿™ä¸ª1e18å¾ˆå¤§ï¼Œå®ƒçš„logçº§åˆ«æ¯”64è¿˜å°ï¼Œç”¨å€å¢åšæ—¶é—´å¤æ‚åº¦å˜æˆäº†O(NlongM)ï¼Œå°±æ˜¯2e6çš„æ ·å­   
è¿™é‡Œstè¡¨å¾ˆç›´æ¥ï¼Œå‚¨å­˜çš„å°±æ˜¯è·³äº†Næ­¤ååˆ°è¾¾ä½ç½®ï¼Œç‰¹åˆ«ç‰¹åˆ«éœ€è¦æ³¨æ„çš„æ˜¯æŸ¥è¯¢åƒä¸‡ä¸èƒ½ç”¨( 1 << i )ï¼Œè¿™æ˜¯ç‰¹åˆ«å¤§çš„æ•°å­—ï¼Œæˆ‘ä¸æ˜ç™½ä¸ºå•¥mæ˜¯llï¼Œå°±ç®—æŠŠ( 1 << i )è½¬åŒ–ä¸ºllç±»å‹å†è¿›è¡Œä¸æ“ä½œè¿˜æ˜¯ä¸è¡Œï¼Œllä¸æ˜¯64ä½çš„å—ï¼ŸèŒƒå›´åº”è¯¥æ˜¯å¤Ÿçš„ï¼Œå¥‡æ€ªï¼Œä¸è¿‡ä»¥åæœ€å¥½è®©må³ç§»è¿™æ ·ä¸ä¼šçˆ†intï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨whileéå†æ¯ä¸€ä½
#### Code

```c
#include<stdio.h>
#include<iostream>
#include<stdlib.h>
#include<cmath>
using namespace std;
typedef long long ll;
const int maxn=2e5+100;
int st[maxn][70],a[maxn];
int n,pos=1;
ll m;
void bz(){
	int len=log2(m);
	for(int i=1;i<=n;i++) st[i][0]=a[i];
	for(int i=1;i<=len;++i){
		for(int j=1;j<=n;++j){
			st[j][i]=st[st[j][i-1]][i-1];
		}
	}
}
int main()
{
	cin>>n>>m;
	for(int i=1;i<=n;++i) cin>>a[i];
	bz();
	for(int i=0;i<64;i++){
		if(1&(m>>i)){
			pos=st[pos][i];
		}
	}
	cout<<pos<<endl;
}

```
### ACWING-1270. æ•°åˆ—åŒºé—´æœ€å¤§å€¼
ä¸€é“æ¨¡æ¿RMQé¢˜ç›®ï¼Œè¿™é“é¢˜STå‚¨å­˜çš„æ˜¯æ¯ä¸€æ®µåŒºé—´çš„æœ€å€¼ï¼Œå€å¢çš„æ˜¯åŒºé—´é•¿åº¦ï¼Œå°±è¿™é“é¢˜è€Œè¨€ï¼Œä¸€æ®µåŒºé—´çš„æœ€å¤§å€¼å¯ä»¥ç”±è¿™æ®µåŒºé—´ä»ä¸­é—´åˆ†å¼€çš„ä¸¤ç«¯åŒºé—´çš„æœ€å€¼çš„åˆå¹¶ï¼Œè€Œä¸”æ¯ä¸€ä¸ªæ•°éƒ½æ˜¯å¯ä»¥ç”¨2è¿›åˆ¶è¡¨ç¤ºçš„ï¼Œé‚£ä¹ˆå°±ä¸€å®šç”¨stè¡¨ä¸­çš„æ•°ç›¸åŠ å¾—åˆ°

st[i][j]è¡¨ç¤ºä»iè¿™ä¸€ç‚¹å¼€å§‹æ•°2^j^ä¸ªæ•°çš„æœ€å€¼ï¼Œå³å¾€åæ•°2^(j-1)^ä¸ªæ•°çš„æœ€å€¼
#### Code
```c
#include<bits/stdc++.h>
#define ios ios::sync_with_stdio(0);cin.tie(0);cout.tie(0) 
using namespace std;
const int MAXN=1e5+100;
int n,m;
int st[MAXN][22],a[MAXN];
void init()
{
    for(int i=1;i<=n;i++) st[i][0]=a[i];
    for(int j=1;(1<<j)<=n;j++){//åŒºé—´é•¿åº¦ä¸èƒ½è¶…è¿‡n
        for(int i=1;i+(1<<j)-1<=n;i++){
            st[i][j]=max(st[i][j-1],st[i+(1<<j-1)][j-1]); //æˆ‘è¿™é‡Œå¡äº†å¥½ä¹…ï¼Œå€å¢çš„æ˜¯åŒºé—´é•¿åº¦ï¼Œè€Œstå‚¨å­˜çš„æ˜¯æœ€å€¼ï¼Œæ‰€ä»¥maxç¬¬äºŒä¸ªstç¬¬ä¸€ä¸ªæ‹¬å·åº”è¯¥æ˜¯å€å¢åçš„ä½ç½®
        }
    }
    return;
}
int main()
{
	ios;
    cin>>n>>m;
    for(int i=1;i<=n;i++) cin>>a[i];
    init();
    while(m--)
    {
		int r,l;
        cin>>l>>r;
        int k=log2(r-l+1); //æ³¨æ„ï¼Œæœ€åæŸ¥è¯¢å°†ä¸¤ä¸ªåŒºé—´æœ€å€¼åˆå¹¶
        cout<<max(st[l][k],st[r-(1<<k)+1][k])<<endl;
    }
}

```
### ç‰›å®¢ç«èµ›- 15429 å€å¢
è¿™é“é¢˜å¡äº†ä¸€å¤©ï¼Œè¿˜æ˜¯ç”±äºæˆ‘å¯¹å€å¢ç†è§£ä¸æ·±ï¼Œè¿™é“é¢˜æ˜¯å¯¹å¾€ååˆ†2^j^æ®µå€å¢çš„ï¼ŒSTè¡¨å‚¨å­˜çš„æ˜¯åˆ†æˆ2^j^æ®µå¯¹å¤šèƒ½åˆ°è¾¾çš„è·ç¦»ï¼Œè®²è§£å…¨åœ¨ä»£ç é‡Œäº†
#### Code
```c
#include<bits/stdc++.h>
#define ios ios::sync_with_stdio(0);cin.tie(0);cout.tie(0)
using namespace std;
const int MAXN=1e6+100;
long long n,m,k;
long long st[MAXN][21],book[MAXN],sum[MAXN];
//è¿™é‡Œstå­˜çš„æ˜¯å¾€å³æœ€å¤šèµ°åˆ°çš„è·ç¦» 
//è¿™é‡Œ stè¡¨çš„å…³ç³»æ˜¯ï¼šä¸€ä¸ªç‚¹å¾€å³åˆ†æˆ2^jæ®µæœ€å¤šåˆ°è¾¾çš„ç‚¹==å…ˆåˆ†æˆ2^(j-1)åˆ°è¾¾çš„ç‚¹å†å¾€åèµ°2^(j-1) 
void init(){
    for(int i=1;i<=n;i++){
		st[i][0]=upper_bound(sum+1,sum+1+n,sum[i-1]+k)-sum;//å¾ˆå·§å¦™çš„sum[i-1]+kï¼Œåˆ†æˆä¸€æ®µæœ€å¤šå¯ä»¥åˆ°é‚£ä¸ªæ•° 
	}
    for(int i=1;(1<<i)<=n;i++)//å½“æ¯ä¸€ä¸ªæ•°éƒ½å°äºkå¹¶ä¸”æ¯ä¸¤ä¸ªç›¸é‚»çš„æ•°éƒ½å¤§äºkæ—¶å°±åˆ†æˆäº†nä»½ï¼Œè¿™ä¹Ÿæ˜¯æœ€å¤šåˆ†æˆnä»½ 
        for(int j=1;j<=n;j++){//è®°å½•ä»æ¯ä¸€ä¸ªç‚¹å¼€å§‹åˆ†æˆ(2^i)æ®µå¯¹å¤šåˆ°è¾¾å“ªä¸€ä¸ªç‚¹ 
        	st[j][i]=st[st[j][i-1]][i-1];//stçš„å…³ç³» 
		}
}
int query(int l,int r){
	int ans=1;
	 //è¿™é‡Œå¿…é¡»ä»å¤§åˆ°å°ï¼Œå› ä¸ºè¦åˆ†æœ€å°æ®µçš„æ•°é‡ï¼Œ
	//æ‰€ä»¥è¦å°½å¯èƒ½è®©ç‚¹å¾€å³èµ°ï¼Œä»å¤§åˆ°å°å»è¯•ï¼ŒåŒç†å½“åˆ†æˆæœ€å¤šæ®µæ—¶å°±è¦ä»å°åˆ°å¤§ 
	for(int i=20;st[l][0]<=r;i--){//ä»å½“å‰ç‚¹åˆ†æˆä¸€æ®µå½“å¯ä»¥åˆ°è¾¾çš„ç‚¹ä¸èƒ½è¶…è¿‡r 
		if(st[l][i]<=r&&st[l][i]){//å¾€å³æœ€å¤šä¸èƒ½è¶…è¿‡r 
			l=st[l][i];//æ›´æ–°å½“å‰ä½ç½® 
			ans+=(1<<i);//åŠ ä¸Šå½“å‰åˆ†æˆçš„æ®µçš„æ•°é‡ 
		}
	}
	return ans;
}
int main()
{
	ios;
	cin>>n>>m>>k;
	for(int i=1;i<=n;i++){
		int t; cin>>t;
		sum[i]=t+sum[i-1];//å‰ç¼€å’Œä¼˜åŒ–å°†åŒºé—´å’ŒæŸ¥è¯¢ä¼˜åŒ–ä¸ºO(1) 
		book[i]=book[i-1]+(t>k);//å¾ˆå·§å¦™çš„å‰ç¼€å’Œï¼Œè®°å½•å‰iä¸ªæ•°ä¸­å¤§äºkçš„æ•°æœ‰å‡ ä¸ª 
	}
	init();
	while(m--){
		int l,r;
		cin>>l>>r;
		if(book[r]-book[l-1]>0) cout<<"Chtholly"<<'\n';//è‹¥[l,r]æœ‰æ•°å¤§äºkåˆ™ä¸å¯èƒ½ï¼Œç›´æ¥è¾“å‡º 
		else cout<<query(l,r)<<"\n"; 
	}
	return 0;
}
```
<font color="red" size=4>
åšäº†è¿™ä¸‰é“å€å¢é¢˜æ„Ÿè§‰å¯¹å€å¢æœ‰äº†æ–°çš„è®¤è¯†ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯å¤„ç†ä¸å¥½STå’Œå€å¢çš„å…³ç³»ï¼Œç»å¸¸å¤„ç†ä¸å¥½STä¹‹é—´çš„å…³ç³»ï¼ŒçœŸçš„æ„Ÿè§‰è‡ªå·±å¥½èœğŸ˜¢
</font>
